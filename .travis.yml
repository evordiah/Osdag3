language: generic



dist: bionic

sudo: required

before_install: sudo apt install texlive-latex-base
install:
    - source ./texlive/texlive_install.sh



cache:
  directories:
    - /tmp/texlive
    - $HOME/.texlive

before_script: cd $TRAVIS_BUILD_DIR/src/

script:
      - pdflatex main.tex
      - bibtex main
      - pdflatex main.tex
      - pdflatex main.tex # Compile twice to fix references

after_script:
    - export PATH=/tmp/texlive/bin/x86_64-linux:$PATH
    - tlmgr list --only-installed | grep -oP 'i \K.+?(?=:)'
